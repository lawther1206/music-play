import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as A,o as K,b as c,s as L,c as o,h as n,g as p,e as s,m as f,f as k,d as g,j as _,t as h,w as M,F as y,i as v}from"./index-BkcC9b7Z.js";const O={class:"card-header"},T={class:"card-box",id:"target-div"},W={key:0},$={key:0},q={key:1},z={class:"mb10"},G={class:"mb15"},J={key:0},Q={key:1},X={class:"dialog-footer"},Y={__name:"index",props:{exportInfo:{type:Array,default:()=>[]}},emits:["save"],setup(V,{expose:w,emit:D}){const U=V,I=D,a=A({exportInfo:[],isShowDialog:!1,loading:!1,text:"导出"});K(()=>{Object.assign(a.exportInfo,U.exportInfo)});const C=(r,l,i)=>{i.value=l.checkedKeys},S=async()=>{a.isShowDialog=!0},E=async()=>{let r={format:void 0,dataRange:void 0,dataRangeInput:{input:void 0},options:{}};a.exportInfo.forEach(l=>{if(l.key=="format"&&(r.format=l.value),l.key=="dataRange"){r.dataRange=l.value;let i=l.option.find(u=>u.key==l.value);r.dataRangeInput.input=(i==null?void 0:i.value)??{}}l.key=="options"&&l.value.forEach(i=>{r.options[i]=!0;let u=l.option.find(m=>m.key==i);u&&u.type&&(u.key=="num"?(r.options.imageWidthPx=u.min,r.options.imageHeightPx=u.max):r.options[u.key]=u.value)})}),a.loading=!0,a.text="正在导出...",I("save",r)};return w({openDialog:S,closeDialogEnd:r=>{a.text="导出",a.loading=!1,r&&(a.isShowDialog=!1)}}),(r,l)=>{const i=c("el-radio"),u=c("el-radio-group"),m=c("el-tree"),x=c("el-input-number"),N=c("el-checkbox"),R=c("el-checkbox-group"),B=c("el-card"),b=c("el-button"),j=c("el-dialog"),F=L("loading");return o(),n("div",null,[p(j,{modelValue:a.isShowDialog,"onUpdate:modelValue":l[1]||(l[1]=t=>a.isShowDialog=t),width:"600",draggable:"","close-on-click-modal":!1,"destroy-on-close":!0},{header:s(()=>[f(" 导出 ")]),footer:s(()=>[k("span",X,[a.loading?_("",!0):(o(),g(b,{key:0,onClick:l[0]||(l[0]=t=>a.isShowDialog=!1)},{default:s(()=>[f(" 取消 ")]),_:1})),p(b,{type:"primary",onClick:E,loading:a.loading},{default:s(()=>[f(h(a.text),1)]),_:1},8,["loading"])])]),default:s(()=>[M((o(),n("div",null,[(o(!0),n(y,null,v(a.exportInfo,t=>(o(),n("div",{class:"export-item mb20",key:t.key},[t.show?(o(),g(B,{key:0,shadow:"never"},{header:s(()=>[k("div",O,[k("span",null,h(t.label),1)])]),default:s(()=>[k("div",T,[t.type=="radio"?(o(),n("div",W,[p(u,{modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},{default:s(()=>[(o(!0),n(y,null,v(t.option,e=>(o(),g(i,{class:"radio-item",value:e.key,key:e.key},{default:s(()=>[f(h(e.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),(o(!0),n(y,null,v(t.option,e=>(o(),n("div",{key:e.key},[e.type=="tree"&&t.value==e.key?(o(),n("div",$,[p(m,{data:e.orgData,onCheck:(d,H)=>C(d,H,e),"node-key":"id",props:{children:"children",label:"displayName"},"default-checked-keys":e.orgData.map(d=>d.id),"show-checkbox":"","highlight-current":""},null,8,["data","onCheck","default-checked-keys"])])):_("",!0)]))),128))])):_("",!0),t.type=="checkbox"?(o(),n("div",q,[p(R,{modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,class:"flex-warp"},{default:s(()=>[(o(!0),n(y,null,v(t.option,e=>(o(),g(N,{class:"checkbox-item",value:e.key,key:e.key,disabled:e.disabled},{default:s(()=>[k("div",z,h(e.label),1),k("div",G,[e.type=="range-input"?(o(),n("div",J,[p(x,{title:e.left,modelValue:e.min,"onUpdate:modelValue":d=>e.min=d,"controls-position":"right",class:"w80px"},null,8,["title","modelValue","onUpdate:modelValue"]),f(" ~ "),p(x,{title:e.right,modelValue:e.max,"onUpdate:modelValue":d=>e.max=d,"controls-position":"right",class:"w80px"},null,8,["title","modelValue","onUpdate:modelValue"])])):_("",!0),e.type=="radio-input"?(o(),n("div",Q,[p(u,{modelValue:e.value,"onUpdate:modelValue":d=>e.value=d},{default:s(()=>[(o(!0),n(y,null,v(e.option,d=>(o(),g(i,{value:d.key,key:d.key},{default:s(()=>[f(h(d.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):_("",!0)])]),_:2},1032,["value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):_("",!0)])]),_:2},1024)):_("",!0)]))),128))])),[[F,a.loading]])]),_:1},8,["modelValue"])])}}},ae=P(Y,[["__scopeId","data-v-6f09179b"]]);export{ae as default};
